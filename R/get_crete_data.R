library("here")

source(here("R","functions.R"))

crete_data <- get_data_from_location(gs_title('Crete October 2019'))

nz <- tibble::tribble(
       ~Lon,      ~Lat,        ~Date, ~Site,
   24.98816,  35.41562, "12/10/2019",     1,
   24.98816,  35.41562, "12/10/2019",     2,
  25.739887, 35.231754, "13/10/2019",     2,
   25.75831, 35.251892, "13/10/2019",     1,
  25.758577, 35.251846, "13/10/2019",     3,
   24.39293,  35.17217, "14/10/2019",     1,
  24.409021,  35.17072, "14/10/2019",     2,
  24.441713, 35.154884, "14/10/2019",     3,
  24.419214, 35.166004, "16/10/2019",     1,
  24.392876, 35.177162, "16/10/2019",     2,
  24.355742, 35.183475, "16/10/2019",     3,
  24.590063, 35.008705, "18/10/2019",     1,
  24.580944, 35.001724, "18/10/2019",     2,
  24.597233,  35.00729, "18/10/2019",     3,
  25.758797,  35.25428, "19/10/2019",     1,
  25.738451, 35.230244, "19/10/2019",     2,
  25.731836,  35.22478, "19/10/2019",     3,
  25.019144, 35.416767, "20/10/2019",     1,
  23.595228, 35.232037, "22/10/2019",     1,
  23.600225, 35.232307, "22/10/2019",     2
  )

full <- nz %>% mutate(Site = as.character(Site)) %>% 
right_join(crete_data,by = c("Date","Site"))

full %>% mutate(loc = case_when(any(str_detect(Date,pattern = c("12","13","19/","20"))), "North","South")) %>% select(loc) %>% uniq
